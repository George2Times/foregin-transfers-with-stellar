(this["webpackJsonpcross-border-app"]=this["webpackJsonpcross-border-app"]||[]).push([[0],{1013:function(e,t){},1105:function(e,t,n){},1106:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(19),c=n(451),i=n.n(c),l=n(83),r=n(84),o=n(54),d=n(86),u=n(85),h=n(248),j=n.n(h),p=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("nav",{className:"navbar is-info","aria-label":"main navigation",children:[Object(s.jsxs)("div",{className:"navbar-brand",children:[Object(s.jsx)("a",{className:"navbar-item",href:"/",children:Object(s.jsxs)("strong",{children:[Object(s.jsx)("i",{className:"fa fa-coins"})," ",this.props.appName]})}),Object(s.jsxs)("a",{role:"button",className:"navbar-burger","aria-label":"menu","aria-expanded":"false",children:[Object(s.jsx)("span",{"aria-hidden":"true"}),Object(s.jsx)("span",{"aria-hidden":"true"}),Object(s.jsx)("span",{"aria-hidden":"true"})]})]}),Object(s.jsx)("div",{className:"navbar-menu",children:Object(s.jsx)("div",{className:"navbar-end",children:Object(s.jsx)("a",{className:"navbar-item",children:Object(s.jsxs)("div",{className:"tags has-addons",children:[Object(s.jsxs)("span",{className:"tag",children:[Object(s.jsx)("i",{className:"fa fa-signal"})," \xa0 Network"]}),Object(s.jsx)("span",{className:"tag is-info",children:this.props.network})]})})})})]})}}]),n}(a.Component);var b=function(e){return Object(s.jsxs)("section",{className:"container",children:[Object(s.jsxs)("div",{className:"has-text-centered content",children:[Object(s.jsx)("br",{}),Object(s.jsx)("h1",{className:"title is-4 is-uppercase has-text-is-warning",children:"Remittance App"}),Object(s.jsx)("h2",{className:"subtitle is-7 has-text-black-light ",children:" powered by Blockchain   "})]}),Object(s.jsx)("div",{className:"has-text-centered content",children:Object(s.jsxs)("h2",{className:"subtitle is-7 has-text-black-light ",children:[" Welcome ",e.name,"!   "]})})]})};var x=function(e){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("p",{className:"panel-heading has-text-centered is-clipped is-size-7",children:["Account ID:",e.account]}),Object(s.jsxs)("p",{className:"panel-heading has-text-centered is-clipped is-size-7",children:["Balance:",Object(s.jsxs)("strong",{children:["$",e.balance,"  "]})]})]})};var m=function(e){var t=e.name,n=e.fields[t]?e.fields[t]:"",a=e.placeholder,c=e.addon;return Object(s.jsxs)("div",{className:"field has-addons is-12",children:[Object(s.jsx)("p",{className:"control is-expanded",children:Object(s.jsx)("input",{defaultValue:e.default||n,onInput:function(n){e.onInputChangeUpdateField(t,n.target.value)},placeholder:a,className:"input",type:"text"})}),Object(s.jsx)("p",{className:"control",children:c?Object(s.jsx)("a",{className:"button is-static",children:c}):""})]})};var f=function(e){return console.log("txid",e.txid),console.log("txstatus",e.txstatus),Object(s.jsx)("div",{className:"panel-block is-paddingless is-6",children:Object(s.jsxs)("div",{className:"column",children:[Object(s.jsx)(m,{onInputChangeUpdateField:e.onInputChangeUpdateField,fields:e.fields,name:"receiver",placeholder:"Receiver Friendly ID"}),Object(s.jsx)(m,{onInputChangeUpdateField:e.onInputChangeUpdateField,fields:e.fields,name:"amount",placeholder:"Amount (In USD)"}),Object(s.jsx)("p",{className:"control ",children:Object(s.jsx)("a",{className:"button is-info",onClick:function(){return e.payment()},children:"Transfer"})}),Object(s.jsxs)("div",{className:"column",children:[Object(s.jsx)("div",{className:"column",children:Object(s.jsx)("p",{children:Object(s.jsxs)("span",{className:"tag is-grey",children:[Object(s.jsx)("strong",{children:"Tx Status"})," : ",e.txstatus]})})}),Object(s.jsx)("div",{className:"column",children:Object(s.jsx)("p",{children:Object(s.jsxs)("span",{className:"tag is-grey",children:[Object(s.jsx)("strong",{children:"Tx Hash"}),": ",e.txid]})})})]})]})})};var O=function(e){return Object(s.jsx)("div",{className:"panel-block is-paddingless is-12",children:Object(s.jsxs)("div",{className:"column is-12",id:"token-lists",children:[Object(s.jsx)("div",{className:"column has-text-centered",children:"Enter Friendly ID:"}),Object(s.jsx)(m,{onInputChangeUpdateField:e.onInputChangeUpdateField,fields:e.fields,name:"friendlyid",placeholder:"Friendly ID"}),Object(s.jsx)("div",{className:"column has-text-centered",children:Object(s.jsx)("span",{className:"button is-medium is-warning",onClick:function(){return e.setAccount()},children:"Submit"})}),Object(s.jsx)("div",{className:"column has-text-centered",children:Object(s.jsx)("span",{className:"button is-medium is-info",onClick:function(){return e.setBank()},children:"Bank User"})})]})})};var v=function(e){return Object(s.jsx)("div",{className:"panel-block is-paddingless is-12",children:Object(s.jsx)("div",{className:"column is-12",id:"token-lists",children:e.receivedtx.map((function(e,t){return Object(s.jsxs)("div",{className:"columns token",children:[Object(s.jsxs)("div",{className:"column has-text-centered",children:["Tx ID:  ",e.txid]}),Object(s.jsxs)("div",{className:"column has-text-centered",children:["Sender :  ",e.sender]}),Object(s.jsxs)("div",{className:"column has-text-centered",children:["Receiver :  ",e.receiver]}),Object(s.jsxs)("div",{className:"column has-text-centered",children:["Amount :  ",e.amount]}),Object(s.jsxs)("div",{className:"column has-text-centered",children:["Currency :  ",e.currency]}),Object(s.jsxs)("div",{className:"column has-text-centered",children:["Sender KYC :  ",e.kyc_info]})]},t)}))})})},N=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(s.jsx)("section",{className:"container",children:Object(s.jsx)("div",{className:"columns",children:Object(s.jsx)("div",{className:"is-half is-offset-3 column",children:Object(s.jsxs)("div",{className:"panel is-multiline",children:[Object(s.jsx)(x,{account:this.props.account,balance:this.props.balance}),this.props.receivedtx?Object(s.jsx)("div",{children:Object(s.jsx)(v,{receivedtx:this.props.receivedtx})}):this.props.account?Object(s.jsx)("div",{children:Object(s.jsx)(f,{payment:this.props.payment,chkaddr:this.props.chkaddr,onInputChangeUpdateField:this.props.onInputChangeUpdateField,fields:this.props.fields,txstatus:this.props.txstatus,txid:this.props.txid})}):Object(s.jsx)("div",{children:Object(s.jsx)(O,{setAccount:this.props.setAccount,setBank:this.props.setBank,onInputChangeUpdateField:this.props.onInputChangeUpdateField,fields:this.props.fields})})]})})})})}}]),n}(a.Component),g=[{balance:0,code:"USD",issuer:"GB4ZARRG6G5N3CTBAK2YVZKPS4NOK4OZQQEHYC44GXVNW3CROB7BDKYO",symbol:"$"}],y=(n(889),n(892),n(66),n(903),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setAccount=function(){var t=e.state.fields.friendlyid;console.log("account",t);var n=Object(o.a)(e);fetch("http://20.56.32.165:3600/userdet",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({friendlyid:t})}).then((function(e,t){if(e)return e.json();console.log(t)})).then((function(e){n.setState({account:t,name:e.name,balance:e.balance})}))},e.payment=function(){console.log(e.state.fields.receiver),console.log(e.state.fields.amount),console.log(e.state.account);var t=Object(o.a)(e);fetch("http://20.56.32.165:3600/payment",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({receiver:e.state.fields.receiver,amount:e.state.fields.amount,account:e.state.account})}).then((function(e,t){if(e)return e.json();console.log(t)})).then((function(e){if(console.log(e),"SUCCESS!"==e.msg){console.log("Tx hash",e.result);var n=JSON.parse(e.result);t.setState({txstatus:"Transaction Successful",txid:n.hash}),t.setBalance()}else console.log("Error",e),t.setState({txstatus:"Transaction Failed"})}))},e.setBank=function(){var t=Object(o.a)(e);fetch("http://20.56.32.165:3600/bankuser").then((function(e,t){if(e)return e.json();console.log(t)})).then((function(e){t.setState({receivedtx:e.tx}),console.log(t.state.receivedtx)}))},e.setBalance=function(){var t=Object(o.a)(e),n=e.state.account;console.log("Reached here");fetch("http://20.56.32.165:3600/userbal",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({friendlyid:n})}).then((function(e,t){if(e)return e.json();console.log(t)})).then((function(e){t.setState({balance:e.balance})}))},e.onInputChangeUpdateField=function(t,n){var s=e.state.fields;s[t]=n,e.setState({fields:s})},e.appName="PageA",e.onInputChangeUpdateField=e.onInputChangeUpdateField.bind(Object(o.a)(e)),e.assets=g,e.USD=new j.a.Asset(e.assets[0].code,e.assets[0].issuer),e.state={network:"Private Testnet",account:null,balance:0,name:"",fields:{friendlyid:null,receiver:null,amount:null,sellprice:null,sellamount:null}},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.server=new j.a.Server("http://127.0.0.1:8000",{allowHttp:!0}),this.passphrase="Standalone Network ; February 2017"}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)(p,{appName:this.appName,network:this.state.network}),Object(s.jsx)(b,{name:this.state.name}),Object(s.jsx)(N,{onInputChangeUpdateField:this.onInputChangeUpdateField,account:this.state.account,balance:this.state.balance,payment:this.payment,setBank:this.setBank,receivedtx:this.state.receivedtx,chkaddr:this.chkaddr,setBalance:this.setBalance,fields:this.state.fields,setAccount:this.setAccount,txstatus:this.state.txstatus,txid:this.state.txid})]})}}]),n}(a.Component));n(1104),n(1105);i.a.render(Object(s.jsx)(y,{}),document.getElementById("root"))},476:function(e,t){},477:function(e,t){},862:function(e,t){},864:function(e,t){},894:function(e,t){},896:function(e,t){},911:function(e,t){},913:function(e,t){},919:function(e,t){},921:function(e,t){},946:function(e,t){},948:function(e,t){},949:function(e,t){},955:function(e,t){},957:function(e,t){},976:function(e,t){},988:function(e,t){},991:function(e,t){}},[[1106,1,2]]]);
//# sourceMappingURL=main.a35ff89a.chunk.js.map